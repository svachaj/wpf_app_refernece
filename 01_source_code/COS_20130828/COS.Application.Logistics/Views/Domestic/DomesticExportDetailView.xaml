<bc:BaseUserControl xmlns:bc="clr-namespace:COS.Common.WPF;assembly=COS.Common.WPF"  x:Class="COS.Application.Logistics.Views.DomesticExportDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="1200" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" xmlns:my="clr-namespace:COS.Common.WPF.Controls;assembly=COS.Common.WPF">
    <bc:BaseUserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/COSResources;component/COSBaseResources.xaml"></ResourceDictionary>
                <ResourceDictionary Source="/COSResources;component/MainResources.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </bc:BaseUserControl.Resources>
    <Grid Background="BLACK">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>

        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" telerik:StyleManager.Theme="Expression_Dark">
            <Grid HorizontalAlignment="Center">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <!--shipment info-->
                <Border x:Name="borderShipment" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Margin="3" BorderBrush="Gray" BorderThickness="1.5" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource log_Shipment}" FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="180"></RowDefinition>
                                
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="30"></ColumnDefinition>
                                <ColumnDefinition Width="280"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource log_DomesticForwarder}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalForwarders}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"  
                                              Tag="log_det_cmb_country"   SelectedItem="{Binding SelectedItem.Forwarder, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                 DisplayMemberPath="Name"        Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="1" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="{DynamicResource log_DomesticDriver}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalDrivers}"  CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                          Tag="log_det_cmb_zone"      SelectedItem="{Binding SelectedItem.Driver, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnValidationError=True, ValidatesOnExceptions=True,ValidatesOnDataErrors=True}"
                                        DisplayMemberPath="Name"
                                                 Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="2" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource log_DomesticCarType}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalCarTypes}" DisplayMemberPath="CarTypeName"  
                                                Tag="log_det_cmb_forwarder"     SelectedItem="{Binding SelectedItem.CarType, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="3" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="{DynamicResource log_DomesticComposition}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalCompositions}" DisplayMemberPath="Description"  
                                                Tag="log_det_cmb_forwarder"     SelectedItem="{Binding SelectedItem.Composition, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="4" IsEditable="True">

                            </telerik:RadComboBox>


                            <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource log_DomesticPointOfOrigin}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="4" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalZoneLogistics}" DisplayMemberPath="DestinationName"  
                                                Tag="log_det_cmb_forwarder"     SelectedItem="{Binding SelectedItem.PointOfOrigin, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="5" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="{DynamicResource log_DomesticPannedDate}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="log_det_dtp_planneddate" Grid.Row="5" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.PlannedDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="6">
                            </telerik:RadDatePicker>


                            <TextBlock Grid.Row="6" Grid.Column="0" Text="{DynamicResource log_DomesticRound}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="6" Grid.Column="2"
                             Value="{Binding SelectedItem.Round, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0" Maximum="10" IsInteger="True"      
                              Margin="3" VerticalAlignment="Center" TabIndex="21">
                            </telerik:RadNumericUpDown>


                            <TextBlock Grid.Row="7" Grid.Column="0" Text="{DynamicResource log_DomesticTotalPrice}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown  telerik:StyleManager.Theme="Expression_Dark" Grid.Row="7" Grid.Column="3"
                             Value="{Binding SelectedItem.TotalPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                                    IsEnabled="False"
                              Margin="3" VerticalAlignment="Center" TabIndex="8">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="8" Grid.Column="0" Text="{DynamicResource log_DomesticTotalvolume}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown  telerik:StyleManager.Theme="Expression_Dark" Grid.Row="8" Grid.Column="3"
                             Value="{Binding SelectedItem.TotalVolume, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                                    IsEnabled="False"
                              Margin="3" VerticalAlignment="Center" TabIndex="9">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="9" Grid.Column="0" Text="{DynamicResource log_DomesticTotalDistance}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown  telerik:StyleManager.Theme="Expression_Dark" Grid.Row="9" Grid.Column="3"
                             Value="{Binding SelectedItem.TotalDistance, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                                    IsEnabled="False"
                              Margin="3" VerticalAlignment="Center" TabIndex="10">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="10" Grid.Column="0" Text="{DynamicResource log_DomesticCountOfDestinations}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown  telerik:StyleManager.Theme="Expression_Dark" Grid.Row="10" Grid.Column="3"
                             Value="{Binding SelectedItem.TotalCountOfDestinations, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                                    IsEnabled="False"
                              Margin="3" VerticalAlignment="Center" TabIndex="11">
                            </telerik:RadNumericUpDown>

                            <!--konec nove sekce-->


                            <TextBlock Grid.Row="12" Grid.Column="0" Text="{DynamicResource log_DomesticPersonalNote}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="12" Height="80" AcceptsReturn="True" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedItem.PersonNote, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="12">
                            </TextBox>

                            <TextBlock Grid.Row="13" Grid.Column="0" Text="{DynamicResource log_DomesticNote}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="13" Height="80" AcceptsReturn="True" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedItem.Note, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="13">
                            </TextBox>



                            <TextBlock Grid.Row="16" Grid.Column="0" Text="{DynamicResource log_DomesticDeliveryNote}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <CheckBox Tag="log_det_chb_IsInProgress" telerik:StyleManager.Theme="Expression_Dark" Grid.Row="16" Grid.Column="2" IsChecked="{Binding SelectedItem.DeliveryNote, Mode=TwoWay}" VerticalAlignment="Center" Margin="3" TabIndex="14"></CheckBox>

                            <TextBlock Grid.Row="17" Grid.Column="0" Text="{DynamicResource log_DomesticIsComplete}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <CheckBox Tag="log_det_chb_loadcheck" telerik:StyleManager.Theme="Expression_Dark" Grid.Row="17" Grid.Column="2" IsChecked="{Binding SelectedItem.IsCompleted, Mode=TwoWay}" VerticalAlignment="Center" Margin="3" TabIndex="15"></CheckBox>

                            <TextBlock Grid.Row="18" Grid.Column="0" Text="{DynamicResource log_DomesticInvoiceCheck}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <CheckBox Tag="log_det_chb_InvoiceCheck" telerik:StyleManager.Theme="Expression_Dark" Grid.Row="18" Grid.Column="2" IsChecked="{Binding SelectedItem.InvoiceCheck, Mode=TwoWay}" VerticalAlignment="Center" Margin="3" TabIndex="15"></CheckBox>

                            <TextBlock Grid.Row="19" Grid.Column="0" Text="{DynamicResource log_DomesticMap}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>

                            <Image ToolTipService.ShowDuration="60000" x:Name="imgmap" Grid.Row="19" Margin="3" Grid.Column="2" Stretch="Fill" Width="280" HorizontalAlignment="Right">
                                <Image.ToolTip>
                                    <Image Width="512" Height="512" x:Name="imgToolTipMap"></Image>
                                </Image.ToolTip>
                            </Image>
                            
                        </Grid>

                    </Grid>

                </Border>

                <!--detail info-->
                <Border x:Name="borderDetail" Grid.Row="0" Grid.Column="1" Margin="3" BorderBrush="Gray" BorderThickness="1.5"  >
                    <Grid Height="auto">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource log_CargoPrices}" FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="30"></ColumnDefinition>
                                <ColumnDefinition Width="250"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource log_DomesticCustomer}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadButton Margin="3" VerticalContentAlignment="Center"  Content="+" Grid.Row="0" Grid.Column="1"  telerik:StyleManager.Theme="Expression_Dark" Click="btnAddCustomer_click"></telerik:RadButton>
                            <telerik:RadComboBox Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalCustomers}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"  
                                              Tag="log_det_cmb_country"   SelectedItem="{Binding SelectedDetailItem.Customer, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                 DisplayMemberPath="CustomerName"        Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="16" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="{DynamicResource log_DomesticDestinationName}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadButton Margin="3" VerticalContentAlignment="Center"  Content="+" Grid.Row="1" Grid.Column="1"  telerik:StyleManager.Theme="Expression_Dark" Click="btnAddDestination_click"></telerik:RadButton>
                            <telerik:RadComboBox Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalDetailDestinations}" DisplayMemberPath="DestinationName"  
                                                Tag="log_det_cmb_forwarder"     SelectedItem="{Binding SelectedDetailItem.Destination, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="17" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Město, ulice" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="2" telerik:StyleManager.Theme="Expression_Dark" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.Destination.CityAndStreet, Mode=OneWay}" IsReadOnly="True" TabIndex="18">
                            </TextBox>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="GPS" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="3" telerik:StyleManager.Theme="Expression_Dark" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.Destination.GPS, Mode=OneWay}" IsReadOnly="True" TabIndex="18">
                            </TextBox>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource log_DomesticTRP}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="4" telerik:StyleManager.Theme="Expression_Dark" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.TRP, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="18">
                            </TextBox>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="{DynamicResource log_DomesticSalesOrder}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <!--<telerik:RadButton Margin="3" VerticalContentAlignment="Center" VerticalAlignment="Top"  Content="+/-" Grid.Row="5" Grid.Column="1"  telerik:StyleManager.Theme="Expression_Dark" Click="btnEditSOS_click"></telerik:RadButton>-->
                            <StackPanel Grid.Row="5" Grid.Column="2">
                                <!--<TextBox Tag="log_det_tbx_invoicenote"  IsReadOnly="True" telerik:StyleManager.Theme="Expression_Dark"  TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.TrpSosString, Mode=OneWay}" TabIndex="18">
                                </TextBox>-->
                                <telerik:RadGridView Visibility="Visible" Height="120"  BorderBrush="Transparent" Grid.Row="15" Grid.Column="2" Margin="3" ItemsSource="{Binding SelectedDetailItem.TrpSos}" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"
                                                     EditTriggers="None" CanUserDeleteRows="False" CanUserInsertRows="True" ShowGroupPanel="False" RowIndicatorVisibility="Collapsed" 
                                                     ShowInsertRow="True" RowEditEnded="grdSos_RowEditEnded" AddingNewDataItem="grdSos_AddingNewDataItem" x:Name="grdSos" ScrollViewer.HorizontalScrollBarVisibility="Hidden" >
                                    <telerik:RadGridView.Columns>
                                        <telerik:GridViewColumn Width="22">
                                            <telerik:GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <telerik:RadButton x:Name="btnDelSO" Click="btnDelSO_Click" telerik:StyleManager.Theme="Expression_Dark" ToolTip="{DynamicResource prod_tt_RemoveOps}">X</telerik:RadButton>
                                                </DataTemplate>
                                            </telerik:GridViewColumn.CellTemplate>
                                        </telerik:GridViewColumn>
                                        <telerik:GridViewDataColumn Header="SO" HeaderTextAlignment="Center" DataMemberBinding="{Binding SO}" Width="200">
                                         
                                        </telerik:GridViewDataColumn>

                                    </telerik:RadGridView.Columns>
                                </telerik:RadGridView>

                            </StackPanel>

                            <TextBlock Grid.Row="6" Grid.Column="0" Text="{DynamicResource log_DomesticAction}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="6" telerik:StyleManager.Theme="Expression_Dark" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.Action, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="19">
                            </TextBox>

                            <TextBlock Grid.Row="7" Grid.Column="0" Text="{DynamicResource log_DomesticCostCenter}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="7" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalCostCenters}" DisplayMemberPath="Description"  
                                                Tag="log_det_cmb_forwarder"     SelectedItem="{Binding SelectedDetailItem.CostCenter, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="20" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="8" Grid.Column="0" Text="{DynamicResource log_DomesticDeliveryTime}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadTimePicker  Tag="log_det_dtp_planneddate" Grid.Row="8" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedDetailItem.DeliveryTime, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="6">
                            </telerik:RadTimePicker>

                            <TextBlock Grid.Row="9" Grid.Column="0" Text="{DynamicResource log_DomesticVolume}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <!--<CheckBox telerik:StyleManager.Theme="Expression_Dark" Grid.Row="5" Grid.Column="1" IsChecked="{Binding IsForwarderPriceChanged, Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Right" ></CheckBox>-->
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="9" Grid.Column="3"
                             Value="{Binding SelectedDetailItem.VolumeCBM, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"            
                              Margin="3" VerticalAlignment="Center" TabIndex="21">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="10" Grid.Column="0" Text="{DynamicResource log_DomesticDistance}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <CheckBox telerik:StyleManager.Theme="Expression_Dark" Grid.Row="10" Grid.Column="1" IsChecked="{Binding SelectedDetailItem.IsDistanceChanged, Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Right" ></CheckBox>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="10" Grid.Column="3"
                             Value="{Binding SelectedDetailItem.Distance, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="{Binding SelectedDetailItem.IsDistanceChanged}"     
                              Margin="3" VerticalAlignment="Center" TabIndex="22">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="11" Grid.Column="0" Text="{DynamicResource log_DomesticForwarderPrice}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <CheckBox telerik:StyleManager.Theme="Expression_Dark" Grid.Row="11" Grid.Column="1" IsChecked="{Binding SelectedDetailItem.IsForwarderPriceChanged, Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Right" ></CheckBox>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="11" Grid.Column="3"
                             Value="{Binding SelectedDetailItem.ForwarderPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="{Binding SelectedDetailItem.IsForwarderPriceChanged}"     
                              Margin="3" VerticalAlignment="Center" TabIndex="23">
                            </telerik:RadNumericUpDown>


                            <TextBlock Grid.Row="12" Grid.Column="0" Text="{DynamicResource log_DomesticBafPrice}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <CheckBox telerik:StyleManager.Theme="Expression_Dark" Grid.Row="12" Grid.Column="1" IsChecked="{Binding SelectedDetailItem.IsBafPriceChanged, Mode=TwoWay}" VerticalAlignment="Center" HorizontalAlignment="Right" ></CheckBox>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="12" Grid.Column="3"
                             Value="{Binding SelectedDetailItem.BafPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="{Binding SelectedDetailItem.IsBafPriceChanged}"     
                              Margin="3" VerticalAlignment="Center" TabIndex="24">
                            </telerik:RadNumericUpDown>


                            <TextBlock Grid.Row="13" Grid.Column="0" Text="{DynamicResource log_DomesticTotalPrice}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="13" Grid.Column="3"
                             Value="{Binding SelectedDetailItem.TotalPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                              IsEnabled="False" Margin="3" VerticalAlignment="Center">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="14" Grid.Column="0" Text="{DynamicResource log_DomesticDiscount}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="14" Grid.Column="3" Minimum="0"
                             Value="{Binding SelectedDetailItem.Discount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"     
                              Margin="3" VerticalAlignment="Center" TabIndex="25">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="15" Grid.Column="0" Text="{DynamicResource log_DomesticNote}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="log_det_tbx_invoicenote" Grid.Row="15" AcceptsReturn="True" Height="60" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.Note, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="26">
                            </TextBox>


                            <TextBlock Visibility="Visible" Grid.Row="16" Grid.Column="0" Text="" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <StackPanel Grid.Row="16" Grid.Column="0" VerticalAlignment="Top">
                                <TextBlock Visibility="Visible"  Text="Kontakty k přidání:" Margin="3" Foreground="White"></TextBlock>
                                <StackPanel Orientation="Horizontal">
                                    <telerik:RadComboBox Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalContacts}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"  
                                              Tag="log_det_cmb_country" Width="120"   KeyDown="RadComboBox_KeyDown"
                                 DisplayMemberPath="DisplayName"  x:Name="cmbContants"    Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="16" IsEditable="True">

                                    </telerik:RadComboBox>
                                    <telerik:RadButton Margin="3,3,-20,3" Content="+" telerik:StyleManager.Theme="Expression_Dark" Click="btnAddContact_click"></telerik:RadButton>
                                </StackPanel>

                            </StackPanel>


                            <telerik:RadGridView Visibility="Visible" Height="120"  BorderBrush="Transparent" Grid.Row="16" Grid.Column="2" Margin="3" ItemsSource="{Binding SelectedDetailItem.Contacts}" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"
                                                     EditTriggers="None" CanUserDeleteRows="True" CanUserInsertRows="True" ShowGroupPanel="False" RowIndicatorVisibility="Collapsed" 
                                                     ShowInsertRow="False" x:Name="grdOperators" ScrollViewer.HorizontalScrollBarVisibility="Hidden" >
                                <telerik:RadGridView.Columns>
                                    <telerik:GridViewColumn>
                                        <telerik:GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <telerik:RadButton x:Name="btnDelOper" Click="btnDelContact_Click" telerik:StyleManager.Theme="Expression_Dark" ToolTip="{DynamicResource prod_tt_RemoveOps}">X</telerik:RadButton>
                                            </DataTemplate>
                                        </telerik:GridViewColumn.CellTemplate>
                                    </telerik:GridViewColumn>
                                    <telerik:GridViewDataColumn Header="KONATKT" HeaderTextAlignment="Center" Width="220">
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding CustomerContact.DisplayName}" FontSize="11" TextWrapping="Wrap"></TextBlock>
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>

                                </telerik:RadGridView.Columns>
                            </telerik:RadGridView>


                            <Button Tag="log_det_btn_adddetail1"  Grid.Row="17" Grid.Column="0" Grid.ColumnSpan="3" Margin="3" Click="Button_Click" telerik:StyleManager.Theme="Expression_Dark" Content="{DynamicResource log_AddContent}" TabIndex="27"></Button>

                        </Grid>

                    </Grid>

                </Border>



                <!--detail LIST info-->
                <Border x:Name="borderDetailsList" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Margin="3" BorderBrush="Gray" BorderThickness="1.5" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <Grid>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <telerik:RadButton Margin="2" Click="btnDownOrder_click" telerik:StyleManager.Theme="Expression_Dark">
                                        <Image Source="/COSResources;component/Images/ArrowUp_48x48.png" Height="24" VerticalAlignment="Center" HorizontalAlignment="Center" ></Image>
                                    </telerik:RadButton>
                                    <telerik:RadButton Margin="2" Click="btnUpOrder_click" telerik:StyleManager.Theme="Expression_Dark">
                                        <Image Source="/COSResources;component/Images/ArrowDown_48x48.png" Height="24" VerticalAlignment="Center" HorizontalAlignment="Center" ></Image>
                                    </telerik:RadButton>
                                </StackPanel>
                                <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource log_ShipmentContent}" FontWeight="Bold"></TextBlock>
                            </Grid>
                        </Border>

                        <Grid Grid.Row="1">

                            <telerik:RadGridView  AutoGenerateColumns="False" Grid.Row="1" telerik:StyleManager.Theme="Expression_Dark"
                                        CanUserInsertRows="False" x:Name="grvDetails"  RowIndicatorVisibility="Collapsed" ShowGroupPanel="False"
                                     MaxWidth="1630"   SelectedItem="{Binding SelectedDetailItem, Mode=TwoWay}"
                             ItemsSource="{Binding SelectedItem.ExportDetails}"  
                              ShowInsertRow="False"  IsFilteringAllowed="False"
                              RowDetailsVisibilityMode="VisibleWhenSelected" ColumnWidth="Auto">
                                <telerik:RadGridView.Columns >
                                    <telerik:GridViewDataColumn IsReadOnly="True">
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <telerik:RadButton  Click="deleteSelectedItemClick" ToolTip="{DynamicResource log_tt_DeleteCargo}">
                                                    <Image Source="/COSResources;component/Images/Delete_16_Dark.png" Height="16" VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                                </telerik:RadButton>
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Customer.CustomerName}" Header="{DynamicResource log_DomesticCustomer}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Destination.DestinationName}" Header="{DynamicResource log_DomesticDestination}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding VolumeCBM}" Header="{DynamicResource log_DomesticVolume}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Distance}" Header="{DynamicResource log_DomesticDistance}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding ForwarderPrice, StringFormat=n}" Header="{DynamicResource log_DomesticForwarderPrice}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding BafPrice, StringFormat=n}" Header="{DynamicResource log_DomesticBafPrice}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding TotalPrice, StringFormat=n}" Header="{DynamicResource log_DomesticTotalPrice}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Discount, StringFormat=n}" Header="{DynamicResource log_DomesticDiscount}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding CostCenter.Description}" Header="{DynamicResource log_DomesticCostCenter}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding DeliveryTime, StringFormat=t}" Header="{DynamicResource log_DomesticDeliveryTime}">
                                    </telerik:GridViewDataColumn>
                                </telerik:RadGridView.Columns>
                            </telerik:RadGridView>

                        </Grid>

                    </Grid>

                </Border>

                <!--<Border Grid.Column="2" Grid.RowSpan="3">
                    <ToggleButton VerticalAlignment="Center" Height="110"  Click="btnMap_click" HorizontalAlignment="Center" Margin="3"  >
                        <StackPanel>
                            <TextBlock HorizontalAlignment="Center">M</TextBlock>
                            <TextBlock HorizontalAlignment="Center">A</TextBlock>
                            <TextBlock HorizontalAlignment="Center">P</TextBlock>
                            <TextBlock HorizontalAlignment="Center">A</TextBlock>
                        </StackPanel>
                    </ToggleButton>
                </Border>-->

                <!--mapa-->
                <!--<Border x:Name="borderMaps" Visibility="Collapsed" Grid.Row="0" Grid.Column="3" Grid.RowSpan="3" Margin="3" BorderBrush="Gray" BorderThickness="1.5" MinWidth="200"  >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource log_DomesticDestinationMap}"  FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            
                            <Image x:Name="imgmap"></Image>
                        </Grid>

                    </Grid>

                </Border>-->


            </Grid>


        </ScrollViewer>
        <StackPanel Orientation="Horizontal" Grid.Row="1" HorizontalAlignment="Center"  Margin="3">
            <telerik:RadButton telerik:StyleManager.Theme="Expression_Dark"  Content="{DynamicResource tm_Save}" Height="Auto"  Width="Auto" Margin="3" Padding="10,5,10,5" Command="{Binding UpdateCommand}" TabIndex="29" />
            <telerik:RadButton telerik:StyleManager.Theme="Expression_Dark" Content="{DynamicResource tm_Cancel}" Height="Auto"  Width="Auto" Margin="3" Padding="10,5,10,5" Command="{Binding CancelCommand}" TabIndex="30" OverridesDefaultStyle="True" />
            <telerik:RadButton telerik:StyleManager.Theme="Expression_Dark"  Content="Přepočítat" Tag="log_det_btn_saveandrewrite" Height="Auto"  Width="Auto" Margin="3" Padding="10,5,10,5" Command="{Binding RecalculateCommand}" TabIndex="29" />
        </StackPanel>
    </Grid>
</bc:BaseUserControl>