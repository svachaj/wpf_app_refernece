<bc:BaseUserControl xmlns:bc="clr-namespace:COS.Common.WPF;assembly=COS.Common.WPF"  x:Class="COS.Application.Production.Views.PlanningVA4HDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d"
             d:DesignHeight="1200" d:DesignWidth="1200" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" xmlns:my="clr-namespace:COS.Common.WPF.Controls;assembly=COS.Common.WPF">
    <bc:BaseUserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/COSResources;component/COSBaseResources.xaml"></ResourceDictionary>
                <ResourceDictionary Source="/COSResources;component/MainResources.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </bc:BaseUserControl.Resources>
    <Grid Background="BLACK">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>

        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" telerik:StyleManager.Theme="Expression_Dark">
            <Grid HorizontalAlignment="Center">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <!--shipment info-->
                <Border x:Name="borderShipment" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Margin="3" BorderBrush="Gray" BorderThickness="1.5" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource prod4h_NewSo}" FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="20"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="20"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="20"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="20"></RowDefinition>

                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="30"></ColumnDefinition>
                                <ColumnDefinition Width="280"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource prod4h_So}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <TextBox Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Tag="prod4h_So" Text="{Binding SelectedItem.SO_Number, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True,ValidatesOnExceptions=True}"
                                     Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="1" >

                            </TextBox>



                            <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource prod4h_Manufacture}"   VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalManufactures}" DisplayMemberPath="Description"  
                                                Tag="prod4h_Manufacture"     SelectedItem="{Binding SelectedItem.Manufacture, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="2" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="{DynamicResource prod4h_Customer}"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadButton Margin="3" VerticalContentAlignment="Center"  Content="+" Grid.Row="3" Grid.Column="1"  telerik:StyleManager.Theme="Expression_Dark" Click="btnAddCustomer_click"></telerik:RadButton>
                            <telerik:RadComboBox Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalCustomers}" DisplayMemberPath="CustomerName"  
                                                Tag="prod4h_Customer"     SelectedItem="{Binding SelectedItem.Customer, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="3" IsEditable="True">

                            </telerik:RadComboBox>

                            <StackPanel Grid.Row="4" Grid.Column="2">
                                <telerik:RadGridView Visibility="Visible" Height="120"  BorderBrush="Transparent" Grid.Row="4" Grid.Column="2" Margin="3" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"
                                                     EditTriggers="None" CanUserDeleteRows="True" CanUserInsertRows="True" ShowGroupPanel="False" RowIndicatorVisibility="Collapsed" IsReadOnly="True"
                                                     ShowInsertRow="False" x:Name="grdOperators" ScrollViewer.HorizontalScrollBarVisibility="Hidden" >
                                    <telerik:RadGridView.Columns>
                                        <telerik:GridViewDataColumn Header="{DynamicResource prod4h_Contacts}"  HeaderTextAlignment="Center" Width="*">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding DisplayName}" FontSize="11" TextWrapping="Wrap"></TextBlock>
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>

                                    </telerik:RadGridView.Columns>
                                </telerik:RadGridView>

                            </StackPanel>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="{DynamicResource prod4h_Action}"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <TextBox Grid.Row="5" Grid.Column="2" VerticalAlignment="Center" Tag="prod4h_Action" Text="{Binding SelectedItem.Action, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True,ValidatesOnExceptions=True}"
                                     Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="4" >

                            </TextBox>


                            <TextBlock Grid.Row="6" Grid.Column="0" Text="{DynamicResource prod4h_Description}"  Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="prod4h_Description" Grid.Row="6" Height="80" AcceptsReturn="True" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedItem.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="5">
                            </TextBox>


                            <TextBlock Grid.Row="8" Grid.Column="0" Text="{DynamicResource prod4h_SoReceived}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_SoReceived" Grid.Row="8" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SORecivedDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="6">
                            </telerik:RadDatePicker>

                            <!--<TextBlock Grid.Row="9" Grid.Column="0" Text="{DynamicResource prod4h_Created}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_Created" Grid.Row="9" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOCreatedDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="6">
                            </telerik:RadDatePicker>-->


                            <TextBlock Grid.Row="10" Grid.Column="0" Text="{DynamicResource prod4h_PlannedHrs}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="10" Grid.Column="2"
                             Value="{Binding SelectedItem.PlannedHoursConstruction, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="7" Tag="prod4h_PlannedHrs">
                            </telerik:RadNumericUpDown>


                            <TextBlock Grid.Row="12" Grid.Column="0" Text="{DynamicResource prod4h_SoConstructionPlanned}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_SoConstructionPlanned" Grid.Row="12" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOConstructionPlannedDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="8">
                            </telerik:RadDatePicker>


                            <TextBlock Grid.Row="13" Grid.Column="0" Text="{DynamicResource prod4h_ManufactureDate}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_ManufactureDate" Grid.Row="13" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOManufactureDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="9">
                            </telerik:RadDatePicker>


                            <TextBlock Grid.Row="15" Grid.Column="0" Text="{DynamicResource prod4h_SoDaedlineConstr}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_SoDaedlineConstr" Grid.Row="15" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOConstructionDeadlineDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="11">
                            </telerik:RadDatePicker>

                            <TextBlock Grid.Row="16" Grid.Column="0" Text="{DynamicResource prod4h_SoDaedlineProduction}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_SoDaedlineProduction" Grid.Row="16" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOProductionDeadlineDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="12">
                            </telerik:RadDatePicker>

                            <TextBlock Grid.Row="14" Grid.Column="0" Text="{DynamicResource prod4h_SoDaedlineExpedition}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDateTimePicker Tag="prod4h_SoDaedlineExpedition" Grid.Row="14" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOExpeditionDeadlineDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="10">
                            </telerik:RadDateTimePicker>


                            <TextBlock Grid.Row="18" Grid.Column="0" Text="{DynamicResource prod4h_Priority}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="18" Grid.Column="2"
                             Value="{Binding SelectedItem.Priority, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0" Maximum="10" IsInteger="True"      
                              Margin="3" VerticalAlignment="Center" TabIndex="13" Tag="prod4h_Priority">
                            </telerik:RadNumericUpDown>

                           

                            <TextBlock Grid.Row="21" Grid.Column="0" Text="{DynamicResource prod4h_ConstructerName}"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="21" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalConstructers}" DisplayMemberPath="FullNameRev"  
                                                Tag="prod4h_ConstructerName"     SelectedItem="{Binding SelectedItem.Constructer, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="14" IsEditable="True" >
                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="22" Grid.Column="0" Text="{DynamicResource prod4h_TRP}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <TextBox Grid.Row="22" Grid.Column="2" VerticalAlignment="Center" Tag="prod4h_TRP" Text="{Binding SelectedItem.TRP, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True,ValidatesOnExceptions=True}"
                                     Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="15" >

                            </TextBox>

                            <TextBlock Grid.Row="23" Grid.Column="0" Text="{DynamicResource prod4h_TransportType}"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="23" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalTransportTypes}" DisplayMemberPath="Description"  
                                                Tag="prod4h_TransportType"     SelectedItem="{Binding SelectedItem.TransportType, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="16" IsEditable="True" >
                            </telerik:RadComboBox>





                        </Grid>

                    </Grid>

                </Border>


                <!--detail info-->
                <Border x:Name="borderConstruction" Grid.Row="0" Grid.Column="1" Margin="3" BorderBrush="Gray" BorderThickness="1.5"  >
                    <Grid Height="auto">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource prod4h_Construction}" FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="30"></ColumnDefinition>
                                <ColumnDefinition Width="250"></ColumnDefinition>
                            </Grid.ColumnDefinitions>


                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource prod4h_SoConstructionStart}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDateTimePicker Tag="prod4h_SoConstructionStart" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOConstructionStartDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="16">
                            </telerik:RadDateTimePicker>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="{DynamicResource prod4h_ExecutionType}"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalExecutionTypes}" DisplayMemberPath="Description"  
                                                Tag="prod4h_ExecutionType"     SelectedItem="{Binding SelectedItem.ExecutionType, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="17" IsEditable="True" >
                            </telerik:RadComboBox>

                            <StackPanel Grid.Row="2"  Grid.Column="2">
                                <telerik:RadGridView Visibility="Visible" Height="160"  BorderBrush="Transparent"  Margin="3" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"
                                                     EditTriggers="None" CanUserDeleteRows="True" CanUserInsertRows="True" ShowGroupPanel="False" RowIndicatorVisibility="Collapsed" IsReadOnly="True"
                                                     ShowInsertRow="False" x:Name="grdDifficulty" ScrollViewer.HorizontalScrollBarVisibility="Hidden" ItemsSource="{Binding SelectedItem.Difficulty}" >
                                    <telerik:RadGridView.Columns>
                                        <telerik:GridViewDataColumn Header="{DynamicResource prod4h_Difficulty}"  HeaderTextAlignment="Center" Width="*">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding DifficultyType.Description}" FontSize="11" TextWrapping="Wrap"></TextBlock>
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>
                                        <telerik:GridViewDataColumn  HeaderTextAlignment="Center" Width="auto">
                                            <telerik:GridViewDataColumn.CellTemplate>
                                                <DataTemplate>
                                                    <CheckBox IsChecked="{Binding IsChecked,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" FontSize="11" ></CheckBox>
                                                </DataTemplate>
                                            </telerik:GridViewDataColumn.CellTemplate>
                                        </telerik:GridViewDataColumn>
                                    </telerik:RadGridView.Columns>
                                </telerik:RadGridView>
                            </StackPanel>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="{DynamicResource prod4h_Difficulty}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="3" Grid.Column="2"
                             Value="{Binding SelectedItem.Difficulity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0" Maximum="10" IsInteger="True"      
                              Margin="3" VerticalAlignment="Center" TabIndex="18" Tag="prod4h_Difficulty">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource prod4h_FittingsM2}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="4" Grid.Column="2"
                             Value="{Binding SelectedItem.FittingsContent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="19" Tag="prod4h_FittingsM2">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="{DynamicResource prod4h_DuctM2}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="5" Grid.Column="2"
                             Value="{Binding SelectedItem.DuctContent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="20" Tag="prod4h_DuctM2">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="6" Grid.Column="0" Text="{DynamicResource prod4h_FittingsPcs}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="6" Grid.Column="2"
                             Value="{Binding SelectedItem.FittingsPcs, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="21" Tag="prod4h_FittingsPcs">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="7" Grid.Column="0" Text="{DynamicResource prod4h_DuctPcs}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="7" Grid.Column="2"
                             Value="{Binding SelectedItem.DuctPcs, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="22" Tag="prod4h_DuctPcs">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="8" Grid.Column="0" Text="{DynamicResource prod4h_EndDate}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDateTimePicker Tag="prod4h_EndDate" Grid.Row="8" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.SOConstructionEndDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="23">
                            </telerik:RadDateTimePicker>

                            <TextBlock Grid.Row="9" Grid.Column="0" Text="{DynamicResource prod4h_RealHrsSpend}" Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="9" Grid.Column="2"
                             Value="{Binding SelectedItem.RealHoursConstruction, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="False"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="24" Tag="">
                            </telerik:RadNumericUpDown>


                            <TextBlock Grid.Row="10" Grid.Column="0" Text="{DynamicResource prod4h_InProductionDate}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_InProductionDate" Grid.Row="10" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedItem.ReleaseToProductionDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="25">
                            </telerik:RadDatePicker>

                        </Grid>

                    </Grid>

                </Border>

                <!--detail info-->
                <Border x:Name="borderDetail" Grid.Row="1" Grid.Column="1" Margin="3" BorderBrush="Gray" BorderThickness="1.5"  >
                    <Grid Height="auto">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource prod4h_Accessories}" FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="20"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                <ColumnDefinition Width="100"></ColumnDefinition>
                                <ColumnDefinition Width="250"></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource prod4h_State}" Tag="prod4h_State" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalProdPlanStates}"  CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                          Tag="prod4h_State"   SelectedItem="{Binding SelectedDetailItem.State, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnValidationError=True, ValidatesOnExceptions=True,ValidatesOnDataErrors=True}"
                                        DisplayMemberPath="Description"
                                                 Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="26" IsEditable="True" >
                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="{DynamicResource prod4h_Wg}" Tag="prod4h_State" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalWorkGroups}"  CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                          Tag="prod4h_Wg"   SelectedItem="{Binding SelectedDetailItem.WorkGroup, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnValidationError=True, ValidatesOnExceptions=True,ValidatesOnDataErrors=True}"
                                        DisplayMemberPath="ID_RON"
                                                 Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="27" IsEditable="True">

                            </telerik:RadComboBox>


                            <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource prod4h_TRP}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <TextBox Grid.Row="4" Grid.Column="2" VerticalAlignment="Center" Tag="prod4h_TRP" Text="{Binding SelectedDetailItem.TRP, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True,ValidatesOnExceptions=True}"
                                     Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="28" >

                            </TextBox>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="{DynamicResource prod4h_Product}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <TextBox Grid.Row="5" Grid.Column="2" VerticalAlignment="Center" Tag="prod4h_Product" Text="{Binding SelectedDetailItem.ProductItem, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True,ValidatesOnExceptions=True}"
                                     Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="29" >

                            </TextBox>

                            <TextBlock Grid.Row="6" Grid.Column="0" Text="{DynamicResource prod4h_PCS}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadNumericUpDown telerik:StyleManager.Theme="Expression_Dark" Grid.Row="6" Grid.Column="2"
                             Value="{Binding SelectedDetailItem.PCS, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                       IsEnabled="True"      Minimum="0"  IsInteger="False"      
                              Margin="3" VerticalAlignment="Center" TabIndex="30" Tag="prod4h_PCS">
                            </telerik:RadNumericUpDown>

                            <TextBlock Grid.Row="7" Grid.Column="0" Text="{DynamicResource prod4h_MO}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <TextBox Grid.Row="7" Grid.Column="2" VerticalAlignment="Center" Tag="prod4h_MO" Text="{Binding SelectedDetailItem.ManufactureOrder, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True,ValidatesOnExceptions=True}"
                                     Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="31" >

                            </TextBox>

                            <TextBlock Grid.Row="8" Grid.Column="0" Text="{DynamicResource prod4h_TransportType}"  VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="8" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalTransportTypes}" DisplayMemberPath="Description"  
                                                Tag="prod4h_TransportType"     SelectedItem="{Binding SelectedDetailItem.TransportType, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="32" IsEditable="True" >
                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="9" Grid.Column="0" Text="{DynamicResource prod4h_Supplier}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadComboBox Grid.Row="9" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalSuppliers}"  CanAutocompleteSelectItems="True" OpenDropDownOnFocus="True"
                                          Tag="prod4h_Supplier"   SelectedItem="{Binding SelectedItem.Supplier, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnValidationError=True, ValidatesOnExceptions=True,ValidatesOnDataErrors=True}"
                                        DisplayMemberPath="Description"
                                                 Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="33" IsEditable="True">

                            </telerik:RadComboBox>

                            <TextBlock Grid.Row="11" Grid.Column="0" Text="{DynamicResource prod4h_ProductionDeadline}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_ProductionDeadline" Grid.Row="11" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedDetailItem.ProductionDeadlineDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="34">
                            </telerik:RadDatePicker>

                            <TextBlock Grid.Row="10" Grid.Column="0" Tag="dyntbl" Text="{DynamicResource prod4h_Resale}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <CheckBox Grid.Row="10" Grid.Column="2" VerticalAlignment="Center" TabIndex="35" IsTabStop="True"
                                                   IsChecked="{Binding Resale, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                         Margin="3" >
                            </CheckBox>

                            <TextBlock Grid.Row="12" Grid.Column="0" Text="{DynamicResource prod4h_ExpeditionDeadline}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                            <telerik:RadDatePicker Tag="prod4h_ExpeditionDeadline" Grid.Row="12" Grid.Column="2" VerticalAlignment="Center" 
                                                   SelectedValue="{Binding SelectedDetailItem.ExpeditionDeadlineDate, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="36">
                            </telerik:RadDatePicker>

                            <TextBlock Grid.Row="13" Grid.Column="0" Text="{DynamicResource prod4h_Note}"  Margin="3" VerticalAlignment="Center" Foreground="White"></TextBlock>
                            <TextBox Tag="prod4h_Note" Grid.Row="13" Height="80" AcceptsReturn="True" Grid.Column="2" TextWrapping="Wrap" Margin="3" VerticalAlignment="Center"
                                     Text="{Binding SelectedDetailItem.Note, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" TabIndex="37">
                            </TextBox>

                            <Button Tag="prod4h_AddAccessories"  Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3" Margin="3" Click="Button_Click" telerik:StyleManager.Theme="Expression_Dark" Content="{DynamicResource prod4h_AddAccessories}" TabIndex="38"></Button>

                        </Grid>

                    </Grid>

                </Border>



                <!--detail LIST info-->
                <Border x:Name="borderDetailsList" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Margin="3" BorderBrush="Gray" BorderThickness="1.5" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <Grid>

                                <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource prod4h_AccessoriesPreview}" FontWeight="Bold"></TextBlock>
                            </Grid>
                        </Border>

                        <Grid Grid.Row="1">

                            <telerik:RadGridView  AutoGenerateColumns="False" Grid.Row="1" telerik:StyleManager.Theme="Expression_Dark"
                                        CanUserInsertRows="False" x:Name="grvDetails"  RowIndicatorVisibility="Collapsed" ShowGroupPanel="False"
                                     MaxWidth="1630"   SelectedItem="{Binding SelectedDetailItem}"
                             ItemsSource="{Binding LocalDetails}"  
                              ShowInsertRow="False"  
                              RowDetailsVisibilityMode="VisibleWhenSelected" ColumnWidth="Auto">
                                <telerik:RadGridView.Columns >
                                    <telerik:GridViewDataColumn IsReadOnly="True">
                                        <telerik:GridViewDataColumn.CellTemplate>
                                            <DataTemplate>
                                                <telerik:RadButton  Click="deleteSelectedItemClick" ToolTip="{DynamicResource log_tt_DeleteCargo}">
                                                    <Image Source="/COSResources;component/Images/Delete_16_Dark.png" Height="16" VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                                </telerik:RadButton>
                                            </DataTemplate>
                                        </telerik:GridViewDataColumn.CellTemplate>
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding ProductItem}" Header="{DynamicResource prod4h_Product}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding WorkGroup.WorkGroup}" Header="{DynamicResource prod4h_Wg}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding ManufactureOrder}" Header="{DynamicResource prod4h_MO}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding PCS}" Header="{DynamicResource prod4h_PCS}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding ProductionDeadlineDate}" Header="{DynamicResource prod4h_ProductionDeadline}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding ExpeditionDeadlineDate}" Header="{DynamicResource prod4h_ExpeditionDeadline}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Resale}" Header="{DynamicResource prod4h_Resale}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Manufacture.Description}" Header="{DynamicResource prod4h_Supplier}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding Note}" Header="{DynamicResource prod4h_Note}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding State.Description}" Header="{DynamicResource prod4h_State}">
                                    </telerik:GridViewDataColumn>
                                    <telerik:GridViewDataColumn IsReadOnly="True" DataMemberBinding="{Binding TransportType.Description}" Header="{DynamicResource prod4h_TransportType}">
                                    </telerik:GridViewDataColumn>
                                </telerik:RadGridView.Columns>
                            </telerik:RadGridView>

                        </Grid>

                    </Grid>

                </Border>

                <!--<Border Grid.Column="2" Grid.RowSpan="3">
                    <ToggleButton VerticalAlignment="Center" Height="110"  Click="btnMap_click" HorizontalAlignment="Center" Margin="3"  >
                        <StackPanel>
                            <TextBlock HorizontalAlignment="Center">M</TextBlock>
                            <TextBlock HorizontalAlignment="Center">A</TextBlock>
                            <TextBlock HorizontalAlignment="Center">P</TextBlock>
                            <TextBlock HorizontalAlignment="Center">A</TextBlock>
                        </StackPanel>
                    </ToggleButton>
                </Border>-->

                <!--mapa-->
                <!--<Border x:Name="borderMaps" Visibility="Collapsed" Grid.Row="0" Grid.Column="3" Grid.RowSpan="3" Margin="3" BorderBrush="Gray" BorderThickness="1.5" MinWidth="200"  >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                            <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{DynamicResource log_DomesticDestinationMap}"  FontWeight="Bold"></TextBlock>
                        </Border>

                        <Grid Grid.Row="1">
                            
                            <Image x:Name="imgmap"></Image>
                        </Grid>

                    </Grid>

                </Border>-->


            </Grid>


        </ScrollViewer>
        <StackPanel Orientation="Horizontal" Grid.Row="1" HorizontalAlignment="Center"  Margin="3">
            <telerik:RadButton telerik:StyleManager.Theme="Expression_Dark"  Content="{DynamicResource tm_Save}" Height="Auto"  Width="Auto" Margin="3" Padding="10,5,10,5" Command="{Binding UpdateCommand}" TabIndex="39" />
            <telerik:RadButton telerik:StyleManager.Theme="Expression_Dark" Content="{DynamicResource tm_Cancel}" Height="Auto"  Width="Auto" Margin="3" Padding="10,5,10,5" Command="{Binding CancelCommand}" TabIndex="40" OverridesDefaultStyle="True" />

        </StackPanel>
    </Grid>
</bc:BaseUserControl>