<bc:BaseUserControl xmlns:bc="clr-namespace:COS.Common.WPF;assembly=COS.Common.WPF" x:Class="COS.Application.Production.Views.HourlyProductionMainView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                    
             mc:Ignorable="d" xmlns:my="clr-namespace:COS.Common.WPF.Controls;assembly=COS.Common.WPF" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
             d:DesignHeight="1200" d:DesignWidth="1200" HorizontalAlignment="Stretch">


    <bc:BaseUserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/COSResources;component/COSBaseResources.xaml"></ResourceDictionary>
                <ResourceDictionary Source="/COSResources;component/MainResources.xaml"></ResourceDictionary>
                <ResourceDictionary Source="HPLocalResources.xaml"></ResourceDictionary>

            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </bc:BaseUserControl.Resources>



    <ScrollViewer  VerticalScrollBarVisibility="Auto" telerik:StyleManager.Theme="Expression_Dark" HorizontalScrollBarVisibility="Auto" Background="Transparent" >
        <Grid Background="#FF333333">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" ></ColumnDefinition>
                <ColumnDefinition Width="1018" ></ColumnDefinition>
                <ColumnDefinition Width="1607*"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <Grid Background="Transparent" Grid.RowSpan="2">
                <Border BorderBrush="Gray" BorderThickness="1.5" VerticalAlignment="Top" Margin="5,6,3,6" >
                    <TextBlock Foreground="White" HorizontalAlignment="Center" Margin="3" Text="{StaticResource prod_HpSetting}" telerik:StyleManager.Theme="Expression_Dark"></TextBlock>
                </Border>
                <!--levá část zadavani-->
                <Border BorderBrush="Gray" BorderThickness="1.5" Margin="5,36,3,6" >
                    <Grid x:Name="grdLeftSettings"  Margin="0,0,0,3" Width="140" Background="Transparent" >

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid x:Name="SetSection" Grid.Row="0" IsEnabled="{Binding IsSet, Converter={StaticResource IsSetHPReverseConvertor}}">

                            <StackPanel>
                                <TextBlock Foreground="White" Margin="3,3,0,0" FontSize="11" Text="{StaticResource prod_Division}"></TextBlock>
                                <telerik:RadComboBox telerik:StyleManager.Theme="Expression_Dark"  Width="130" IsTabStop="False"
                                 ItemsSource="{Binding Divisions,Source={StaticResource COSC}}" x:Name="cmbDivisions"
                     SelectedItem="{Binding SelectedDivision,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                         Margin="3,0,3,0" VerticalAlignment="Center">
                                    <telerik:RadComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Value}"></TextBlock>
                                        </DataTemplate>
                                    </telerik:RadComboBox.ItemTemplate>
                                </telerik:RadComboBox>
                                <TextBlock Foreground="White" Margin="3,1,0,0" FontSize="11" Text="{StaticResource prod_ShiftType}"></TextBlock>
                                <telerik:RadComboBox telerik:StyleManager.Theme="Expression_Dark"  Width="130"  IsTabStop="False"
                                 ItemsSource="{Binding ShiftTypes,Source={StaticResource COSC}}" x:Name="cmbShiftTypes"
                     SelectedItem="{Binding SelectedShiftType,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                         Margin="3,0,3,0" VerticalAlignment="Center">
                                    <telerik:RadComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Description}"></TextBlock>
                                        </DataTemplate>
                                    </telerik:RadComboBox.ItemTemplate>
                                </telerik:RadComboBox>
                                <TextBlock Foreground="White" Margin="3,1,0,0" FontSize="11" Text="{StaticResource prod_Shift}"></TextBlock>
                                <telerik:RadComboBox telerik:StyleManager.Theme="Expression_Dark"  Width="130" x:Name="cmbShifts" IsTabStop="False"
                                 ItemsSource="{Binding Shifts,Source={StaticResource COSC}}" 
                     SelectedItem="{Binding SelectedShift,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                         Margin="3,0,3,0" VerticalAlignment="Center">
                                    <telerik:RadComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Description}"></TextBlock>
                                        </DataTemplate>
                                    </telerik:RadComboBox.ItemTemplate>
                                </telerik:RadComboBox>
                                <TextBlock Foreground="White" Margin="3,1,0,0" FontSize="11" Text="{StaticResource prod_Date}"></TextBlock>
                                <telerik:RadDatePicker telerik:StyleManager.Theme="Expression_Dark"  Width="130"                             
                     SelectedValue="{Binding SelectedDate,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                        Margin="3,0,3,0" VerticalAlignment="Center" IsTabStop="False">

                                </telerik:RadDatePicker>

                            </StackPanel>

                        </Grid>

                        <Grid Grid.Row="1">
                            <telerik:RadToggleButton IsChecked="{Binding IsSet}" Margin="3,6,3,3" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding SetCommand}" Content="{Binding IsSetText}" IsTabStop="False"></telerik:RadToggleButton>
                        </Grid>
                        <Grid Grid.Row="2" IsEnabled="{Binding IsSet}" Background="Transparent">
                            <StackPanel>
                                <TextBlock Foreground="White" Margin="3,1,0,0" FontSize="11" Text="{StaticResource prod_WorkGroup}"></TextBlock>
                                <telerik:RadComboBox telerik:StyleManager.Theme="Expression_Dark"  Width="130"  IsTabStop="False"    
                                 ItemsSource="{Binding LocalWorkGroups}" 
                     SelectedItem="{Binding SelectedWorkGroup,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}" 
                                         Margin="3" VerticalAlignment="Center">
                                    <telerik:RadComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Value}"></TextBlock>
                                        </DataTemplate>
                                    </telerik:RadComboBox.ItemTemplate>
                                </telerik:RadComboBox>
                                <TextBlock Foreground="White" Margin="3,1,0,0" FontSize="11" Text="{StaticResource prod_WorkCenter}"></TextBlock>
                                <ScrollViewer Background="Transparent" telerik:StyleManager.Theme="Expression_Dark" Margin="3"   HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"  IsTabStop="False">
                                    <telerik:RadListBox telerik:StyleManager.Theme="Expression_Dark"  IsTabStop="False"
                                 ItemsSource="{Binding LocalWorkCenters}"
                     SelectedItem="{Binding SelectedWorkCenter,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, ValidatesOnDataErrors=True}">
                                        <telerik:RadListBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="{Binding Value}" telerik:StyleManager.Theme="Expression_Dark" ></TextBlock>
                                                    <!--<TextBlock Text=" - " telerik:StyleManager.Theme="Expression_Dark" ></TextBlock>
                                            <TextBlock Text="{Binding Description}" telerik:StyleManager.Theme="Expression_Dark" ></TextBlock>-->
                                                </StackPanel>

                                            </DataTemplate>
                                        </telerik:RadListBox.ItemTemplate>
                                    </telerik:RadListBox>

                                </ScrollViewer>


                            </StackPanel>
                        </Grid>

                    </Grid>
                </Border>

            </Grid>


            <!--hlavní část zadávání-->
            <Grid x:Name="grdMainContent" Grid.Column="1" Margin="0,3,4,3" Grid.ColumnSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition ></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition Height="Auto"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="3" BorderBrush="Gray" BorderThickness="1.5">
                            <TextBlock x:Name="tblHPHeader" Foreground="White" HorizontalAlignment="Center" Margin="3" Text="{StaticResource prod_HpHeader}"></TextBlock>
                        </Border>

                        <!--<Border Grid.Row="1" Grid.Column="0" Grid.RowSpan="2"  Margin="3" BorderBrush="White" BorderThickness="1">
                            <StackPanel>
                                <Border Grid.Row="1" Grid.Column="0"   Margin="2,3,2,0"  BorderBrush="White">
                                    <TextBlock HorizontalAlignment="Center" Foreground="White" Text="{StaticResource hpCommonControl}"></TextBlock>
                                </Border>

                              
                                <telerik:RadButton Content="{StaticResource btnNew}" Margin="3" telerik:StyleManager.Theme="Expression_Dark" 
                                                   Command="{Binding AddNewHP}" IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor2}}" >
                                </telerik:RadButton>
                                <telerik:RadButton Content="{StaticResource btnDelete}" Margin="3" telerik:StyleManager.Theme="Expression_Dark"
                                                   Command="{Binding DeleteHP}" IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                </telerik:RadButton >
                                <telerik:RadButton Content="{StaticResource btnDeleteAll}" Margin="3" telerik:StyleManager.Theme="Expression_Dark" 
                                                   Command="{Binding DeleteAllHP}"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                </telerik:RadButton>
                                <Border Grid.Row="1" Grid.Column="0" Margin="2,3,2,0"  BorderBrush="White">
                                    <TextBlock HorizontalAlignment="Center" Foreground="White" Text="{StaticResource hpHrs1Preset}"></TextBlock>
                                </Border>
                                <telerik:RadButton Content="{StaticResource btn1PreventiveMaintenance}" Margin="3" telerik:StyleManager.Theme="Expression_Dark"
                                                    IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                </telerik:RadButton>
                                <telerik:RadButton Content="{StaticResource btn1NoPlan}" Margin="3" telerik:StyleManager.Theme="Expression_Dark"
                                                    IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                </telerik:RadButton>
                                <Border Grid.Row="1" Grid.Column="0" Margin="2,3,2,0"  BorderBrush="White">
                                    <TextBlock HorizontalAlignment="Center" Foreground="White" Text="{StaticResource hpShiftPreset}"></TextBlock>
                                </Border>
                                <telerik:RadButton Content="{StaticResource btnPreventiveMaintenance}" Margin="3" telerik:StyleManager.Theme="Expression_Dark"
                                                    IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                </telerik:RadButton>
                                <telerik:RadButton Content="{StaticResource btnNoPlan}" Margin="3" telerik:StyleManager.Theme="Expression_Dark"
                                                    IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                </telerik:RadButton>
                            </StackPanel>
                        </Border>-->

                        <Border Grid.Row="1" Grid.Column="0" HorizontalAlignment="Stretch" Grid.ColumnSpan="2"  Margin="3" BorderBrush="Gray" BorderThickness="1.5"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="200"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_Hour}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadComboBox Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalShiftPatterns}" SelectedValuePath="ID" x:Name="cmbHour"
                                                     SelectedValue="{Binding SelectedHourlyProduction.ID_Hour, Mode=TwoWay}"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" TabIndex="1">
                                    <telerik:RadComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Description}"></TextBlock>
                                        </DataTemplate>
                                    </telerik:RadComboBox.ItemTemplate>
                                </telerik:RadComboBox>

                                <TextBlock Grid.Row="1" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_Order}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <TextBox Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" TabIndex="2" IsTabStop="True" x:Name="txtOrder"
                                                   Text="{Binding SelectedHourlyProduction.ProductionOrder, Mode=TwoWay}"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" GotFocus="txtOrder_GotFocus">
                                </TextBox>

                                <TextBlock Grid.Row="2" Grid.Column="0"  Tag="dyntbl" Text="{StaticResource prod_ItemNumber}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <TextBox Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" TabIndex="3" IsTabStop="True"
                                                   Text="{Binding SelectedHourlyProduction.ItemNumber, Mode=TwoWay}"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark"  x:Name="txtItemNumber" GotFocus="txtItemNumber_GotFocus" >
                                </TextBox>

                                <TextBlock Grid.Row="3" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_ItemDescription}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <TextBox Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" IsTabStop="False"
                                                   Text="{Binding ItemDescription}" IsReadOnly="True"
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark">
                                </TextBox>

                                <TextBlock Grid.Row="4" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_IsConfig}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <CheckBox Grid.Row="4" Grid.Column="2" VerticalAlignment="Center" TabIndex="4" IsTabStop="True"
                                                   IsChecked="{Binding SelectedHourlyProduction.IsConfig, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                         Margin="3" >
                                </CheckBox>

                                <TextBlock Grid.Row="5" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_ActualTime}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadNumericUpDown Grid.Row="5" Grid.Column="2" VerticalAlignment="Center" Maximum="60" Minimum="0" TabIndex="5" IsTabStop="True"
                                                   Value="{Binding SelectedHourlyProduction.ActualTime_min, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                </telerik:RadNumericUpDown>

                                <TextBlock Grid.Row="6" Grid.Column="0" Tag="dyntbl"  Text="{StaticResource prod_LabourOwn}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadNumericUpDown Grid.Row="6" Grid.Column="2" VerticalAlignment="Center" Minimum="0" TabIndex="6" IsTabStop="True"
                                                   Value="{Binding SelectedHourlyProduction.LabourOwn, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                </telerik:RadNumericUpDown>

                                <TextBlock Grid.Row="7" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_LabourTemp}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadNumericUpDown Grid.Row="7" Grid.Column="2" VerticalAlignment="Center" Minimum="0" TabIndex="7" IsTabStop="True"
                                                   Value="{Binding SelectedHourlyProduction.LabourTemp, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                </telerik:RadNumericUpDown>

                                <TextBlock Grid.Row="8" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_ProducedPcs}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadNumericUpDown Grid.Row="8" Grid.Column="2" VerticalAlignment="Center" Minimum="0" TabIndex="8" IsTabStop="True"
                                                   Value="{Binding SelectedHourlyProduction.ProducedPieces, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="False">
                                </telerik:RadNumericUpDown>

                                <TextBlock Grid.Row="9" Grid.Column="0" Tag="dyntbl" Text="{StaticResource prod_ScrapPcs}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadNumericUpDown Grid.Row="9" Grid.Column="2" VerticalAlignment="Center" Minimum="0" TabIndex="9" IsTabStop="True"
                                                   Value="{Binding SelectedHourlyProduction.ScrapPieces, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                </telerik:RadNumericUpDown>

                                <TextBlock Grid.Row="10" Grid.Column="0"  Tag="dyntbl" Text="{StaticResource prod_ScrapWeight}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadNumericUpDown Grid.Row="10" Grid.Column="2" VerticalAlignment="Center" Minimum="0" TabIndex="11" IsTabStop="True"
                                                   Value="{Binding SelectedHourlyProduction.ScrapWeigh, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" NumberDecimalDigits="2">
                                </telerik:RadNumericUpDown>

                                <Grid Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="3">
                                    <StackPanel>
                                        <TextBlock Tag="dyntbl" Foreground="White" Margin="3,3,3,0" Text="{StaticResource prod_Note}"></TextBlock>
                                        <TextBox Margin="3" telerik:StyleManager.Theme="Expression_Dark" TabIndex="12" IsTabStop="True"
                                                 AcceptsReturn="True" Height="53" Text="{Binding SelectedHourlyProduction.Note, Mode=TwoWay}"></TextBox>
                                    </StackPanel>
                                </Grid>

                                <TextBlock Grid.Row="12" Grid.Column="0"  Tag="dyntbl" Text="{StaticResource prod_OperatorHeader}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <telerik:RadComboBox Grid.Row="12" Grid.Column="2" VerticalAlignment="Center" ItemsSource="{Binding LocalOperators}" x:Name="cmbOpers"                                                    
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" IsEditable="True" TabIndex="13" KeyDown="cmbOpers_KeyDown">
                                    <telerik:RadComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding FullNameWithID}"></TextBlock>
                                        </DataTemplate>
                                    </telerik:RadComboBox.ItemTemplate>
                                </telerik:RadComboBox>

                                <TextBlock Grid.Row="13" Grid.Column="0"  Tag="dyntbl" Text="{StaticResource prod_DowntimeHeader}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                <StackPanel Grid.Row="13" Grid.Column="2" VerticalAlignment="Center" Orientation="Horizontal">
                                    <telerik:RadComboBox Width="137" ItemsSource="{Binding LocalDowntimes}" x:Name="cmbDowns"                                                    
                                         Margin="3" Foreground="White" telerik:StyleManager.Theme="Expression_Dark" IsTabStop="true" IsEditable="True" TabIndex="14"  KeyDown="cmbDowns_KeyDown">
                                        <telerik:RadComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Description}"></TextBlock>
                                            </DataTemplate>
                                        </telerik:RadComboBox.ItemTemplate>
                                    </telerik:RadComboBox>
                                    <telerik:RadNumericUpDown Width="50" x:Name="numDowns" Minimum="0" telerik:StyleManager.Theme="Expression_Dark" TabIndex="15" 
                                                              Maximum="60" Margin="3" IsInteger="True" KeyDown="numDowns_KeyDown"></telerik:RadNumericUpDown>
                                </StackPanel>


                            </Grid>
                        </Border>
                        <Grid Grid.Row="3" Grid.ColumnSpan="3"  VerticalAlignment="Top" Margin="3,4,3,3">
                            <Border BorderBrush="Gray" BorderThickness="1.5">
                                <!--<StackPanel Orientation="Horizontal"  Margin="2" >
                                    <telerik:RadButton Margin="3"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle1}" Content="{StaticResource hpCycle1}" MinWidth="100"></telerik:RadButton>
                                    <telerik:RadButton Margin="3"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle2}" Content="{StaticResource hpCycle2}" MinWidth="100"></telerik:RadButton>
                                    <telerik:RadButton Margin="3"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle3}" Content="{StaticResource hpCycle3}" MinWidth="100"></telerik:RadButton>
                                    <telerik:RadButton Margin="3"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Save}" Content="{StaticResource hpSave}" MinWidth="100"></telerik:RadButton>
                                </StackPanel>-->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition></RowDefinition>
                                        <RowDefinition></RowDefinition>
                                    </Grid.RowDefinitions>

                                    <Border Grid.Row="0" Grid.Column="0" BorderBrush="Gray" BorderThickness="0,0,1,1">
                                        <TextBlock Margin="3" HorizontalAlignment="Center" Foreground="White" Text="{DynamicResource prod_1HrsPreset}"></TextBlock>
                                    </Border>
                                    <Border Grid.Row="1" Grid.Column="0" BorderBrush="Gray" BorderThickness="0,0,1,0">
                                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                            <telerik:RadButton Command="{Binding OneHourNPCommand}" telerik:StyleManager.Theme="Expression_Dark"  Margin="3" Padding="4"  IsTabStop="False" ToolTip="{StaticResource prod_tt_1HrsNoPlan}"
                                                               IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Setting1h}">
                                                <Image Source="/COSResources;component/Images/NoPlan_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                            </telerik:RadButton>
                                            <telerik:RadButton Command="{Binding OneHourPMCommand}" telerik:StyleManager.Theme="Expression_Dark"  Margin="3" Padding="4"  IsTabStop="False" ToolTip="{StaticResource prod_tt_1HrsPrevMaintenance}"
                                                               IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Setting1h}">
                                                <Image Source="/COSResources;component/Images/PrevMaintenance_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                            </telerik:RadButton>
                                        </StackPanel>
                                    </Border>
                                    <Border Grid.Row="0" Grid.Column="1" BorderBrush="Gray" BorderThickness="0,0,1,1">
                                        <TextBlock Margin="3" HorizontalAlignment="Center" Foreground="White" Text="{DynamicResource prod_ShiftPreset}"></TextBlock>
                                    </Border>
                                    <Border Grid.Row="1" Grid.Column="1" BorderBrush="Gray" BorderThickness="0,0,1,0">
                                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                            <telerik:RadButton Command="{Binding ShiftNPCommand}" IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor2}, ConverterParameter=ShiftNP}" telerik:StyleManager.Theme="Expression_Dark"  Margin="3" Padding="4"  IsTabStop="False" ToolTip="{StaticResource prod_tt_ShiftHrsNoPlan}"  >
                                                <Image Source="/COSResources;component/Images/NoPlan_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                            </telerik:RadButton>
                                            <telerik:RadButton  Command="{Binding ShiftPMCommand}" IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor2}, ConverterParameter=ShiftPM}" telerik:StyleManager.Theme="Expression_Dark"  Margin="3" Padding="4"  IsTabStop="False"  ToolTip="{StaticResource prod_tt_ShiftHrsPrevMaintenance}" >
                                                <Image Source="/COSResources;component/Images/PrevMaintenance_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                            </telerik:RadButton>
                                        </StackPanel>
                                    </Border>

                                    <StackPanel Grid.Column="2" Grid.RowSpan="2" HorizontalAlignment="Center" Orientation="Horizontal">

                                        <telerik:RadButton  ToolTip="{StaticResource prod_tt_New}"  Width="40" Margin="3" telerik:StyleManager.Theme="Expression_Dark"  IsTabStop="False"   
                                                   Command="{Binding AddNewHP}" IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor2}, ConverterParameter=AddNew}" >
                                            <Image Source="/COSResources;component/Images/Add_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                        </telerik:RadButton>
                                        <telerik:RadButton  Width="40" Margin="3" telerik:StyleManager.Theme="Expression_Dark"  IsTabStop="False"  ToolTip="{StaticResource prod_tt_Delete}"
                                                   Command="{Binding DeleteHP}" IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Delete}">
                                            <Image Source="/COSResources;component/Images/Delete_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                        </telerik:RadButton >
                                        <telerik:RadButton  Width="40" Margin="3" telerik:StyleManager.Theme="Expression_Dark"  IsTabStop="False"  ToolTip="{StaticResource prod_tt_DeleteAll}"
                                                   Command="{Binding DeleteAllHP}"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Delete}">
                                            <Image Source="/COSResources;component/Images/DeleteAll_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                        </telerik:RadButton>
                                    </StackPanel>
                                    <!--<telerik:RadButton Margin="3" Grid.Column="0"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle1}" Content="{StaticResource hpCycle1}" MinWidth="100"></telerik:RadButton>
                                    <telerik:RadButton Margin="3" Grid.Column="1"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle2}" Content="{StaticResource hpCycle2}" MinWidth="100"></telerik:RadButton>
                                    <telerik:RadButton Margin="3" Grid.Column="2" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle3}" Content="{StaticResource hpCycle3}" MinWidth="100"></telerik:RadButton>
                                    <telerik:RadButton Margin="3" Grid.Column="3" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Save}" Content="{StaticResource hpSave}" MinWidth="100"></telerik:RadButton>-->

                                </Grid>
                            </Border>
                        </Grid>

                    </Grid>

                    <Grid Grid.Column="1" Margin="0,0,-58,0" Width="554">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="auto"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="295"></ColumnDefinition>
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Row="2" Grid.ColumnSpan="2"  VerticalAlignment="Top" Margin="3,3,3,0"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                            <Border BorderBrush="Gray" BorderThickness="1.5">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                        <ColumnDefinition></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <telerik:RadButton Margin="3" Grid.Column="0"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle1}" MinWidth="100"  IsTabStop="False" ToolTip="{StaticResource prod_tt_Cycle1}"
                                                       IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Save}">
                                        <Image Source="/COSResources;component/Images/Cycle1_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                    </telerik:RadButton>
                                    <telerik:RadButton Margin="3" Grid.Column="1"  telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle2}" MinWidth="100"  IsTabStop="False" ToolTip="{StaticResource prod_tt_Cycle2}"
                                                       IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Save}">
                                        <Image Source="/COSResources;component/Images/Cycle2_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                    </telerik:RadButton>
                                    <telerik:RadButton Margin="3" Grid.Column="2" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle3}" MinWidth="100"  IsTabStop="False" ToolTip="{StaticResource prod_tt_Cycle3}"
                                                       IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Save}">
                                        <Image Source="/COSResources;component/Images/Cycle3_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                    </telerik:RadButton>
                                    <telerik:RadButton Margin="3" Grid.Column="3" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Save}"  MinWidth="100"  IsTabStop="True"  TabIndex="15" ToolTip="{StaticResource prod_tt_Save}"
                                                       IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Save}">
                                        <Image Source="/COSResources;component/Images/Save_48x48.png"  VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                    </telerik:RadButton>

                                </Grid>
                            </Border>
                        </Grid>



                        <Grid Grid.Row="0" Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Border BorderBrush="Gray" BorderThickness="1.5" Margin="3">
                                <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{StaticResource prod_DowntimeHeader}"></TextBlock>
                            </Border>
                            <Border Grid.Row="1"  Margin="3"  BorderBrush="Gray" BorderThickness="1.5"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                <Grid Width="230">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition></RowDefinition>
                                    </Grid.RowDefinitions>


                                    <telerik:RadToolBar Grid.Row="1" Margin="-25,1" telerik:StyleManager.Theme="Expression_Dark" >
                                        <telerik:RadButton x:Name="btnAddDowntime" Click="btnAddDowntime_click" IsTabStop="True" TabIndex="51" ToolTip="{StaticResource prod_tt_AddDowntime}"
                                                           IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Save}">
                                            <Image Source="/COSResources;component/Images/Add_48x48.png" Height="20" Width="252.5" VerticalAlignment="Center" HorizontalAlignment="Center" ></Image>
                                        </telerik:RadButton>
                                    </telerik:RadToolBar>
                                    <telerik:RadGridView BorderBrush="Transparent"  Grid.Row="2" ItemsSource="{Binding ProductionAssets}" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"
                                                     EditTriggers="None" CanUserDeleteRows="True" CanUserInsertRows="True" ShowGroupPanel="False" RowIndicatorVisibility="Collapsed" 
                                                     ShowInsertRow="False" x:Name="grdDowntimes" MaxHeight="300" Height="284"  RowEditEnded="grdDowntimes_RowEditEnded" Margin="-25,0">
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewColumn>
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadButton x:Name="btnDelAsset" Click="btnDelAsset_Click" telerik:StyleManager.Theme="Expression_Dark" ToolTip="{DynamicResource prod_tt_RemoveDowntime}">X</telerik:RadButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                            <telerik:GridViewDataColumn Header="{StaticResource prod_DowntimeGrid}" HeaderTextAlignment="Center" Width="185">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadComboBox Width="auto" IsEditable="True" ItemsSource="{Binding DataContext.LocalDowntimes, RelativeSource={RelativeSource AncestorType=bc:BaseUserControl}}"  SelectedItem="{Binding Downtime, Mode=TwoWay}"                                                   
                                                     Margin="3"  telerik:StyleManager.Theme="Expression_Dark" IsMouseWheelEnabled="False">
                                                            <telerik:RadComboBox.SelectionBoxTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding Description}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.SelectionBoxTemplate>
                                                            <telerik:RadComboBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding Description}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.ItemTemplate>
                                                        </telerik:RadComboBox>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadComboBox  DisplayMemberPath="Description" IsEditable="True" ItemsSource="{Binding DataContext.LocalDowntimes, RelativeSource={RelativeSource AncestorType=bc:BaseUserControl}}" SelectedItem="{Binding Downtime, Mode=TwoWay}"                                                   
                                                     Margin="3"  telerik:StyleManager.Theme="Expression_Dark" KeyDown="cmbDowntimes_KeyDown" IsMouseWheelEnabled="False">
                                                            <telerik:RadComboBox.SelectionBoxTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding Description}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.SelectionBoxTemplate>
                                                            <!--<telerik:RadComboBox.ItemTemplate>
                                                            <DataTemplate>
                                                                <TextBlock Text="{Binding Description}"></TextBlock>
                                                            </DataTemplate>
                                                        </telerik:RadComboBox.ItemTemplate>-->
                                                        </telerik:RadComboBox>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                            </telerik:GridViewDataColumn>
                                            <telerik:GridViewDataColumn Header="{StaticResource prod_DowntimeTimeGrid}" HeaderTextAlignment="Center"  >
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadNumericUpDown Minimum="0" Maximum="60"
                                                   Value="{Binding Time_min, Mode=TwoWay}" Width="50"
                                                           Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                                        </telerik:RadNumericUpDown>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadNumericUpDown Minimum="0" Maximum="60"
                                                   Value="{Binding Time_min, Mode=TwoWay}" Width="50"
                                                           Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                                        </telerik:RadNumericUpDown>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                            </telerik:GridViewDataColumn>
                                        </telerik:RadGridView.Columns>
                                    </telerik:RadGridView>


                                </Grid>

                            </Border>



                        </Grid>

                        <Grid Grid.Row="0" Grid.RowSpan="2" Grid.Column="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="1.5" Margin="3">
                                <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{StaticResource prod_OperatorHeader}"></TextBlock>
                            </Border>
                            <Border Grid.Row="1" Margin="3" BorderBrush="Gray" BorderThickness="1.5"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                                <Grid Width="250">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition></RowDefinition>
                                    </Grid.RowDefinitions>


                                    <telerik:RadToolBar Grid.Row="1" Margin="2,2,2,1"  telerik:StyleManager.Theme="Expression_Dark" >
                                        <telerik:RadButton x:Name="btnAddOperator" Click="btnAddOperator_click" IsTabStop="True" TabIndex="50" ToolTip="{StaticResource prod_tt_AddOperator}"
                                                           IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1},ConverterParameter=Save}">
                                            <Image Source="/COSResources;component/Images/Add_48x48.png" Height="20" Width="218.5" VerticalAlignment="Center" HorizontalAlignment="Center"></Image>
                                        </telerik:RadButton>
                                    </telerik:RadToolBar>
                                    <telerik:RadGridView  BorderBrush="Transparent" Grid.Row="2" ItemsSource="{Binding ProductionHRResources}" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"
                                                     EditTriggers="None" CanUserDeleteRows="True" CanUserInsertRows="True" ShowGroupPanel="False" RowIndicatorVisibility="Collapsed" 
                                                     ShowInsertRow="False" x:Name="grdOperators" RowEditEnded="grdOperators_RowEditEnded">
                                        <telerik:RadGridView.Columns>
                                            <telerik:GridViewColumn>
                                                <telerik:GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadButton x:Name="btnDelOper" Click="btnDelOper_Click" telerik:StyleManager.Theme="Expression_Dark" ToolTip="{DynamicResource prod_tt_RemoveOps}">X</telerik:RadButton>
                                                    </DataTemplate>
                                                </telerik:GridViewColumn.CellTemplate>
                                            </telerik:GridViewColumn>
                                            <telerik:GridViewDataColumn Header="{StaticResource prod_OperatorGrid}" HeaderTextAlignment="Center" Width="220">
                                                <telerik:GridViewDataColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadComboBox Width="200" IsEditable="True" ItemsSource="{Binding DataContext.LocalOperators, RelativeSource={RelativeSource AncestorType=bc:BaseUserControl}}" CanAutocompleteSelectItems="False"  SelectedValuePath="HR_ID" TextInput="RadComboBox_TextInput" SelectionChanged="RadComboBox_SelectionChanged" SelectedValue="{Binding ID_HR, Mode=TwoWay}"                                                   
                                                     Margin="3"  telerik:StyleManager.Theme="Expression_Dark" IsMouseWheelEnabled="False">
                                                            <telerik:RadComboBox.SelectionBoxTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding FullNameWithID}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.SelectionBoxTemplate>
                                                            <telerik:RadComboBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding FullNameWithID}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.ItemTemplate>
                                                        </telerik:RadComboBox>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellTemplate>
                                                <telerik:GridViewDataColumn.CellEditTemplate>
                                                    <DataTemplate>
                                                        <telerik:RadComboBox Width="200" IsEditable="True" ItemsSource="{Binding DataContext.LocalOperators, RelativeSource={RelativeSource AncestorType=bc:BaseUserControl}}"  SelectedValuePath="HR_ID" SelectedValue="{Binding HR_ID_HELP, Mode=TwoWay}"                                                   
                                                     Margin="3"  telerik:StyleManager.Theme="Expression_Dark" KeyDown="cmbOperators_KeyDown" IsMouseWheelEnabled="False">
                                                            <telerik:RadComboBox.SelectionBoxTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding LocalEmployee.FullNameWithID}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.SelectionBoxTemplate>
                                                            <telerik:RadComboBox.ItemTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Text="{Binding LocalEmployee.FullNameWithID}"></TextBlock>
                                                                </DataTemplate>
                                                            </telerik:RadComboBox.ItemTemplate>
                                                        </telerik:RadComboBox>
                                                    </DataTemplate>
                                                </telerik:GridViewDataColumn.CellEditTemplate>
                                            </telerik:GridViewDataColumn>

                                        </telerik:RadGridView.Columns>
                                    </telerik:RadGridView>


                                </Grid>

                            </Border>

                        </Grid>

                        <!--order info-->
                        <Border Grid.Row="1" Grid.Column="1" Margin="3" BorderBrush="Gray" BorderThickness="1.5"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1.5" Margin="0,0,0,3">
                                    <TextBlock Foreground="White" Margin="3" HorizontalAlignment="Center" Text="{StaticResource prod_OrderInfo}"></TextBlock>
                                </Border>

                                <Grid Grid.Row="1">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="{StaticResource prod_PlannedPcs}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                    <telerik:RadNumericUpDown Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" Minimum="0"  IsTabStop="False"  
                                                   Value="{Binding OrderInfoPlannedPieces, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                    </telerik:RadNumericUpDown>

                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="{StaticResource prod_PlannedSetupTime}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                    <TextBox Grid.Row="1" Grid.Column="2" VerticalAlignment="Center" IsTabStop="False" TextAlignment="Right"
                                                   Text="{Binding SelectedOrderInfo.PlannedSetupTime, Mode=OneWay}" IsReadOnly="True"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" >
                                    </TextBox>

                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="{StaticResource prod_TotalSetupTime}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                    <TextBox Grid.Row="2" Grid.Column="2" VerticalAlignment="Center" IsTabStop="False" TextAlignment="Right"
                                                   Text="{Binding SelectedOrderInfo.SetupTime, Mode=OneWay}" IsReadOnly="True"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" >
                                    </TextBox>

                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="{StaticResource prod_ActualSetupTime}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="3" Foreground="White"></TextBlock>
                                    <telerik:RadNumericUpDown Grid.Row="3" Grid.Column="2" VerticalAlignment="Center" Minimum="-60" Maximum="60"   IsTabStop="False"  
                                                   Value="{Binding SelectedHourlyProduction.hlpActualSetupTime, Mode=TwoWay}"
                                         Margin="3" telerik:StyleManager.Theme="Expression_Dark" IsInteger="True">
                                    </telerik:RadNumericUpDown>


                                </Grid>

                            </Grid>

                        </Border>

                        <!--<Grid Grid.Row="2" Grid.ColumnSpan="2" VerticalAlignment="Bottom" Margin="3"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <telerik:RadButton Margin="3" Padding="8,4,8,4" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle1}" Content="{StaticResource hpCycle1}"></telerik:RadButton>
                                <telerik:RadButton Margin="3" Padding="8,4,8,4" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle2}" Content="{StaticResource hpCycle2}"></telerik:RadButton>
                                <telerik:RadButton Margin="3" Padding="8,4,8,4" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Cycle3}" Content="{StaticResource hpCycle3}"></telerik:RadButton>
                                <telerik:RadButton Margin="3" Padding="18,4,18,4" telerik:StyleManager.Theme="Expression_Dark" Command="{Binding Save}" Content="{StaticResource hpSave}"></telerik:RadButton>
                            </StackPanel>
                        </Grid>-->
                    </Grid>

                </Grid>


            </Grid>


            <!--seznam hodinovek-->
            <Grid Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" x:Name="grdHPlist"  IsEnabled="{Binding EditingMode, Converter={StaticResource EditModeHPConvertor1}}" Margin="3">
                <telerik:RadGridView BorderBrush="Gray" Grid.Row="2" ItemsSource="{Binding LocalHourlyProductions, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" AutoGenerateColumns="False"  telerik:StyleManager.Theme="Expression_Dark"  
                                     SelectedItem="{Binding SelectedHourlyProduction, Mode=TwoWay}"    Margin="0,3,3,3"          
                                     EditTriggers="None"  ShowGroupPanel="False" RowIndicatorVisibility="Collapsed"
                                                     ShowInsertRow="False" x:Name="grdHourlyProductions"  IsReadOnly="True"  IsTabStop="False"  >

                    <telerik:RadGridView.Columns>
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding Division.Value}" Header="Divize"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding Date,StringFormat=d}" Header="Datum"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding Week}" Header="Týden"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding Shift.Description}" Header="Směna"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ShiftType.Description}" Header="Typ směny"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding WorkGroup.Value}" Header="Pracovní skupina"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding WorkCenter.Value}" Header="Pracovní středisko"></telerik:GridViewDataColumn>-->
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ShiftPattern.Description}"  Header="{StaticResource prod_Hour}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ProductionOrder}" Header="{StaticResource prod_Order}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ItemNumber}"  Header="{StaticResource prod_ItemNumber}"></telerik:GridViewDataColumn>
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding IsConfig}" Header="Konfig"></telerik:GridViewDataColumn>-->
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ActualTime_min}"  Header="{StaticResource prod_ActualTime}"></telerik:GridViewDataColumn>
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding LabourOwn}" Header="Labour own"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding LabourTemp}" Header="Labour temp"></telerik:GridViewDataColumn>-->
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding StdLabour}"  Header="{StaticResource prod_StdLabour}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding LabourTotal}"  Header="{StaticResource prod_LabourTotal}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding StdPiecesPerHour}"  Header="{StaticResource prod_StdHourPcs}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ProducedPieces}"  Header="{StaticResource prod_ProducedPcs}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ScrapPieces}" Header="{StaticResource prod_ScrapPcs}"></telerik:GridViewDataColumn>
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding ScrapWeigh}" Header="Váha zmetku"></telerik:GridViewDataColumn>-->
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding ScrapCountedWeigh}" Header="ScrapCountedWeigh"></telerik:GridViewDataColumn>-->
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding DowntimeTime_min}" Header="{StaticResource prod_DowntimeMin}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding HrDowntimeTime_min}" Header="{StaticResource prod_DowntimeHrMin}"></telerik:GridViewDataColumn>
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding ActOperationalTime_min}" Header="ActOperationalTime_min"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ActIdealTaktTime_min}" Header="ActIdealTaktTime_min"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding ActPiecesPerHeadHour}" Header="ActPiecesPerHeadHour"></telerik:GridViewDataColumn>-->
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding StdPiecesPerHeadHour}" Header="StdPiecesPerHeadHour"></telerik:GridViewDataColumn>-->
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding KpiProductivity}" Header="{StaticResource prod_Productivity}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding KpiPerformance}" Header="{StaticResource prod_Performance}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding KpiQuality}"  Header="{StaticResource prod_Quality}"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding KpiAvailability}" Header="{StaticResource prod_Availability}"></telerik:GridViewDataColumn>
                        <!--<telerik:GridViewDataColumn DataMemberBinding="{Binding hlpHrProductivity}" Header="hlpHrProductivity"></telerik:GridViewDataColumn>
                        <telerik:GridViewDataColumn DataMemberBinding="{Binding hlp_ID_Standard}" Header="hlp_ID_Standard"></telerik:GridViewDataColumn>-->

                    </telerik:RadGridView.Columns>
                </telerik:RadGridView>
            </Grid>
        </Grid>
    </ScrollViewer>
</bc:BaseUserControl>
